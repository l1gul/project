<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Гонки</title>
	</head>
	<body>
		<script src="https://code.jquery.com/jquery-2.1.0.js"></script>
		<script>
			var Car = function(x, y){
				this.x  = x;
				this.y = y;
				this.movement = "right";
				this.speed = 5;

			};
			Car.prototype.draw = function(){
				var carHtml = '<img src="http://nostarch.com/images/car.png">';
				this.carElement = $(carHtml);
				this.carElement.css({
					position: "absolute",
					left: this.x,
					top: this.y
				});
				$("body").append(this.carElement);
			};
			Car.prototype.moveRight = function(){
				if (this.movement != "right"){
					return;
				}
				this.x += this.speed;
				
				this.carElement.css({
					left: this.x, 
					top: this.y
				});

			};
			Car.prototype.moveLeft = function(){
				if (this.movement != "left"){
					return;
				}
				this.x -= 5;
				this.carElement.css({
					left: this.x, 
					top: this.y
				});
			};
			Car.prototype.moveUp = function(){
				this.y -= 5;
				this.carElement.css({
					left: this.x, 
					top: this.y
				});
			};
			Car.prototype.moveDown = function(){
				this.y += 5;
				this.carElement.css({
					left: this.x, 
					top: this.y
				});
			};
			var tesla = new Car(20, 20);
			var nissan = new Car (20, 100);
			tesla.draw();
			nissan.draw();
			setInterval(function(){
				 
				
				if(nissan.x > 500){
					nissan.movement = "left";

				};
				nissan.moveLeft();

				if(nissan.x === 0){
					nissan.movement = "right";
				}
				
				nissan.moveRight();
				
				if (tesla.x > nissan.x){
					nissan.speed = 30;
				}
				}, 100);
			setInterval(function(){
				 
				
				if(tesla.x > 500){
					tesla.movement = "left";

				};
				tesla.moveLeft();
				if(tesla.x === 0){

					tesla.movement = "right";
				}
				
				tesla.moveRight();
				if(nissan.x > tesla.x){
					tesla.speed = 10;
				}

				}, 100);
			
		</script>
		
	</body>
</html>